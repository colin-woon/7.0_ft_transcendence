# Technical Stack & Implementation Guidelines

## 1. Frontend Strategy (A)
* **Framework:** Next.js + TypeScript (Type Safety).
* **Build Tool:** Vite (Fast hot-reload).
* **Styling:** Tailwind CSS (Rapid UI development).
* **Type Safety:** TypeScript (Strict Mode).
* **State Management:** Zustand + React Query (TanStack).
* **Pattern:** Atomic Design + Composition.
* **Formatting:** Spotless Maven Plugin (Google Java Format).

## 2. Backend: Java Services (Auth & Chat)
* **Framework:** Quarkus (Container-first, fast startup).
* **Pattern:** Service-Repository + Anemic Domain Model.
* **Data Layer:** Hibernate ORM with Panache (Repository Pattern).
* **Validation:** Jakarta Bean Validation (Hibernate Validator).
* **Formatting:** Spotless Maven Plugin (Google Java Format).

### Directory Structure (Java)
```yaml
src/main/java/org/acme
├── /api           # Controllers (Strict Input/Output, HTTP only)
├── /service       # Business Logic (OAuth, Vault calls)
├── /model         # Entities (1:1 mapping with DB tables)
├── /dto           # Data Transfer Objects (Public structs)
└── /repository    # DB Access (Panache/SQL)
```

## 3. Backend: Python Service (Forum)
* **Framework:** FastAPI (High performance, async native).
* **Pattern:** Procedural/Functional (C-style logic).
* **Type Safety:** Pyright (Static) + Pydantic (Runtime).
* **ORM:** SQLAlchemy (Standard relational mapper).
* **Formatting:** Ruff (Linting + Formatting).

```yaml
forum/
├── src/
│   ├── internal/        # Utils (JWT Auth, Markdown Sanitizer)
│   ├── database.py      # DB Connection
│   ├── logic.py         # Business Logic Functions
│   ├── main.py          # Entrypoint
│   ├── models.py        # SQLAlchemy Models
│   └── schemas.py       # Pydantic Models
└── tests/               # External tests
```

## 4. Infrastructure & Data
* **Database:** PostgreSQL (Relational Data).
* **Caching:** Redis (Session storage, WebSocket Pub/Sub, Online Status).
* **Secrets:** HashiCorp Vault.

## 5. Branching & Git Strategy
* **Main:** Production ready code.
* **Develop:** Integration branch.
* **Feat/[name]:** Feature branches.
* **PR Rules:** Must pass Spotless/Ruff check before merge.